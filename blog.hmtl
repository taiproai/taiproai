<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog C√° Nh√¢n - FPTPolytechic Tai</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Thi·∫øt l·∫≠p font ch·ªØ Times New Roman cho to√†n b·ªô trang */
        body, h1, h2, h3, h4, p, a, button, input, textarea, div, span, label { 
            font-family: 'Times New Roman', Times, serif !important; 
        }
        
        .bg-hero {
            background-color: #0d121c;
            background-image: linear-gradient(rgba(13, 18, 28, 0.95), rgba(13, 18, 28, 0.95)), url('https://images.unsplash.com/photo-1542831371-29b0f74f940d?q=80&w=1965&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        
        .text-gradient-purple {
            background: linear-gradient(to right, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-bg {
            background: rgba(30, 41, 59, 0.85); /* Slate 800 semi-transparent */
            backdrop-filter: blur(5px);
            border: 1px solid rgba(71, 85, 105, 0.5); /* Slate 600 border */
            transition: all 0.3s ease;
        }
        .card-bg:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.2);
        }
        .skill-tag {
            background-color: #334155; /* Slate 700 */
            color: #94a3b8; /* Slate 400 */
            transition: all 0.2s;
        }
        .skill-tag:hover {
            background-color: #6366f1; /* Indigo 500 */
            color: white;
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-200 antialiased">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-slate-900/90 backdrop-blur-md border-b border-slate-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <a href="index.html" class="flex-shrink-0 text-white text-2xl font-bold">
                    <span class="text-gradient-purple">FPTP</span>olytechic Tai
                </a>
                <nav class="space-x-6 text-sm font-medium">
                    <a href="index.html" class="text-slate-400 hover:text-white transition">Trang Ch√≠nh</a>
                    <a href="#about" class="text-slate-400 hover:text-white transition">Gi·ªõi Thi·ªáu</a>
                    <a href="#skills" class="text-slate-400 hover:text-white transition">K·ªπ NƒÉng</a>
                    <a href="#posts" class="text-slate-400 hover:text-white transition">Blog</a>
                    <a href="mailto:tainmpk04523@gmail.com" class="text-indigo-400 hover:text-indigo-300 transition">Li√™n H·ªá</a>
                </nav>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-hero min-h-screen flex items-center justify-center text-center py-20">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <img src="https://placehold.co/150x150/8b5cf6/FFFFFF?text=TAI" alt="·∫¢nh ƒë·∫°i di·ªán" class="w-36 h-36 rounded-full mx-auto mb-6 border-4 border-purple-500 shadow-xl object-cover">
            
            <h1 class="text-5xl md:text-7xl font-bold text-white mb-4 leading-tight">
                <span class="text-gradient-purple">Tai</span>: Ki·∫øn T·∫°o T∆∞∆°ng Lai S·ªë
            </h1>
            <p class="mt-4 max-w-3xl mx-auto text-xl text-slate-400 mb-10">
                Sinh vi√™n t·∫°i FPTPolytechic, t·∫≠p trung v√†o ph√°t tri·ªÉn web hi·ªán ƒë·∫°i, ·ª©ng d·ª•ng Tr√≠ tu·ªá Nh√¢n t·∫°o v√† chia s·∫ª ki·∫øn th·ª©c c√¥ng ngh·ªá th·ª±c chi·∫øn.
            </p>
            
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <a href="#posts" class="px-8 py-3 rounded-full bg-indigo-600 text-white font-bold text-lg hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-500/30 transform hover:scale-105">
                    ƒê·ªçc Blog Ngay <i class="fa-solid fa-arrow-down ml-2"></i>
                </a>
                <a href="https://facebook.com/Tizsosad07" target="_blank" class="px-8 py-3 rounded-full border border-slate-500 text-slate-300 font-semibold text-lg hover:bg-slate-800 transition-all">
                    <i class="fa-brands fa-facebook-f mr-2"></i> K·∫øt N·ªëi
                </a>
            </div>
        </div>
    </header>

    <!-- About Me Section -->
    <section id="about" class="py-20 bg-slate-900 border-b border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-center text-white mb-4">V·ªÅ T√¥i</h2>
            <div class="w-16 h-1 bg-purple-500 mx-auto rounded mb-12"></div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="card-bg p-8 rounded-xl shadow-lg">
                    <p class="text-slate-300 leading-relaxed text-lg mb-4">
                        T√¥i l√† m·ªôt sinh vi√™n c√¥ng ngh·ªá th√¥ng tin ƒëang tr√™n h√†nh tr√¨nh kh√°m ph√° v√† l√†m ch·ªß c√°c c√¥ng ngh·ªá m·ªõi nh·∫•t. Ni·ªÅm ƒëam m√™ c·ªßa t√¥i l√† bi·∫øn nh·ªØng √Ω t∆∞·ªüng ph·ª©c t·∫°p th√†nh c√°c gi·∫£i ph√°p web ƒë∆°n gi·∫£n, hi·ªáu qu·∫£ v√† ƒë·∫πp m·∫Øt.
                    </p>
                    <p class="text-slate-400 leading-relaxed">
                        Blog n√†y l√† n∆°i t√¥i ghi l·∫°i h√†nh tr√¨nh h·ªçc t·∫≠p, chia s·∫ª c√°c d·ª± √°n c√° nh√¢n, c√°c h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng c√¥ng c·ª• AI (nh∆∞ Gemini, Midjourney) v√† nh·ªØng ƒë√°nh gi√° s√¢u s·∫Øc v·ªÅ xu h∆∞·ªõng c√¥ng ngh·ªá.
                    </p>
                    <a href="mailto:tainmpk04523@gmail.com" class="inline-block mt-6 text-indigo-400 hover:text-indigo-300 font-semibold">
                        <i class="fa-solid fa-envelope mr-2"></i> G·ª≠i email cho t√¥i
                    </a>
                </div>
                
                <div class="grid grid-cols-2 gap-6">
                    <div class="card-bg p-6 rounded-xl text-center">
                        <i class="fa-solid fa-cubes text-3xl text-pink-400 mb-3"></i>
                        <div class="text-3xl font-bold text-white">15+</div>
                        <p class="text-sm text-slate-400">D·ª± √°n C√° nh√¢n</p>
                    </div>
                    <div class="card-bg p-6 rounded-xl text-center">
                        <i class="fa-solid fa-pen-nib text-3xl text-cyan-400 mb-3"></i>
                        <div class="text-3xl font-bold text-white">20+</div>
                        <p class="text-sm text-slate-400">B√†i vi·∫øt c√¥ng ngh·ªá</p>
                    </div>
                    <div class="card-bg p-6 rounded-xl text-center col-span-2">
                        <i class="fa-solid fa-graduation-cap text-3xl text-indigo-400 mb-3"></i>
                        <div class="text-3xl font-bold text-white">FPTPolytechic</div>
                        <p class="text-sm text-slate-400">N∆°i ƒë√†o t·∫°o</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Skills/Tech Stack Section -->
    <section id="skills" class="py-20 bg-slate-950 border-b border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-center text-white mb-4">K·ªπ NƒÉng & C√¥ng C·ª•</h2>
            <p class="text-slate-400 text-center mb-12">Nh·ªØng c√¥ng ngh·ªá t√¥i th∆∞·ªùng s·ª≠ d·ª•ng</p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Stack 1: Web Development -->
                <div class="card-bg p-6 rounded-xl">
                    <h3 class="text-2xl font-bold text-indigo-400 mb-4 flex items-center"><i class="fa-solid fa-globe mr-3"></i> Ph√°t Tri·ªÉn Web</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">HTML5 & CSS3</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">JavaScript</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">ReactJS</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Tailwind CSS</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Node.js</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Firebase/Firestore</span>
                    </div>
                </div>

                <!-- Stack 2: AI & Generative Tech -->
                <div class="card-bg p-6 rounded-xl">
                    <h3 class="text-2xl font-bold text-purple-400 mb-4 flex items-center"><i class="fa-solid fa-brain mr-3"></i> Tr√≠ Tu·ªá Nh√¢n T·∫°o</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Prompt Engineering</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Gemini API</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Midjourney/Imagen</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Python (ML)</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">LLM Fine-tuning</span>
                    </div>
                </div>
                
                <!-- Stack 3: Tools & Others -->
                <div class="card-bg p-6 rounded-xl">
                    <h3 class="text-2xl font-bold text-cyan-400 mb-4 flex items-center"><i class="fa-solid fa-toolbox mr-3"></i> C√¥ng C·ª• & Kh√°c</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Git & GitHub</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">VS Code</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Docker</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">SEO & Content</span>
                        <span class="skill-tag px-3 py-1 rounded-full text-xs font-medium">Ti·∫øng Anh</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Social Proof / Certifications -->
    <section class="py-20 bg-slate-900 border-b border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-white mb-4 text-center">Th√†nh T·ª±u & Ch·ª©ng Nh·∫≠n</h2>
            <p class="text-slate-400 text-center mb-12">Nh·ªØng kh√≥a h·ªçc v√† cu·ªôc thi ƒë√£ tham gia</p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Cert 1 -->
                <div class="card-bg p-6 rounded-xl text-center">
                    <i class="fa-solid fa-certificate text-4xl text-yellow-400 mb-3"></i>
                    <h4 class="text-xl font-bold text-white mb-1">Google AI Fundamentals</h4>
                    <p class="text-sm text-slate-400">Ho√†n th√†nh kh√≥a h·ªçc n·ªÅn t·∫£ng v·ªÅ Tr√≠ tu·ªá Nh√¢n t·∫°o.</p>
                </div>
                <!-- Cert 2 -->
                <div class="card-bg p-6 rounded-xl text-center">
                    <i class="fa-solid fa-trophy text-4xl text-green-400 mb-3"></i>
                    <h4 class="text-xl font-bold text-white mb-1">Top 10 Hackathon FPT</h4>
                    <p class="text-sm text-slate-400">Tham gia v√† ƒë·∫°t gi·∫£i trong cu·ªôc thi l·∫≠p tr√¨nh v·ªÅ gi·∫£i ph√°p Web/AI.</p>
                </div>
                 <!-- Cert 3 -->
                <div class="card-bg p-6 rounded-xl text-center">
                    <i class="fa-solid fa-code-branch text-4xl text-red-400 mb-3"></i>
                    <h4 class="text-xl font-bold text-white mb-1">Contributor Open Source</h4>
                    <p class="text-sm text-slate-400">ƒê√≥ng g√≥p t√≠ch c·ª±c v√†o c√°c d·ª± √°n m√£ ngu·ªìn m·ªü tr√™n GitHub.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter/CTA Section -->
    <section class="py-20 bg-slate-950">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-bold text-white mb-4">ƒêƒÉng k√Ω B·∫£n tin Chuy√™n s√¢u</h2>
            <p class="text-slate-400 mb-8">Nh·∫≠n c√°c b√†i vi·∫øt, ph√¢n t√≠ch chuy√™n s√¢u v·ªÅ AI v√† Web Development tr·ª±c ti·∫øp v√†o h·ªôp th∆∞ c·ªßa b·∫°n.</p>
            
            <form class="flex flex-col sm:flex-row gap-4 justify-center">
                <input type="email" placeholder="Nh·∫≠p email c·ªßa b·∫°n..." required class="flex-grow max-w-sm px-5 py-3 rounded-full bg-slate-800 border border-slate-700 text-white placeholder-slate-500 focus:outline-none focus:border-indigo-500">
                <button type="submit" class="px-8 py-3 rounded-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold shadow-lg shadow-indigo-500/30 transition-all">
                    ƒêƒÉng k√Ω ngay
                </button>
            </form>
        </div>
    </section>

    <!-- Blog Posts Section -->
    <section id="posts" class="py-20 bg-slate-900 border-t border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-white mb-4 text-center">C√°c B√†i Vi·∫øt N·ªïi B·∫≠t</h2>
            <p class="text-slate-400 text-center mb-12">Nh·ªØng n·ªôi dung ƒë∆∞·ª£c ƒë·ªçc nhi·ªÅu nh·∫•t</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Post 1 -->
                <a href="#" class="blog-card-bg rounded-xl shadow-xl overflow-hidden block">
                    <img src="https://placehold.co/600x400/6366f1/ffffff?text=AI+Programming" alt="B√†i vi·∫øt v·ªÅ AI Code" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <span class="text-xs font-semibold text-indigo-400 uppercase">L·∫¨P TR√åNH</span>
                        <h3 class="text-xl font-bold text-white mt-2 mb-3">T·ª± ƒë·ªông h√≥a t√°c v·ª• Web v·ªõi LLM: H∆∞·ªõng d·∫´n c∆° b·∫£n</h3>
                        <p class="text-slate-400 text-sm mb-4 line-clamp-3">
                            T√¨m hi·ªÉu c√°ch s·ª≠ d·ª•ng c√°c m√¥ h√¨nh ng√¥n ng·ªØ l·ªõn ƒë·ªÉ t·∫°o ra c√°c t√°c v·ª• t·ª± ƒë·ªông h√≥a tr√™n n·ªÅn t·∫£ng web v√† API.
                        </p>
                        <span class="text-xs text-slate-500">ƒê√£ ƒë·ªçc: 5 ph√∫t</span>
                    </div>
                </a>

                <!-- Post 2 -->
                <a href="#" class="blog-card-bg rounded-xl shadow-xl overflow-hidden block">
                    <img src="https://placehold.co/600x400/8b5cf6/ffffff?text=Midjourney+Tips" alt="B√†i vi·∫øt v·ªÅ Midjourney" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <span class="text-xs font-semibold text-purple-400 uppercase">S√ÅNG T·∫†O S·ªê</span>
                        <h3 class="text-xl font-bold text-white mt-2 mb-3">L√†m Ch·ªß Prompt: K·ªπ thu·∫≠t t·∫°o ·∫£nh ch√¢n dung tuy·ªát ƒë·∫πp</h3>
                        <p class="text-slate-400 text-sm mb-4 line-clamp-3">
                            Kh√°m ph√° c√°c tham s·ªë v√† t·ª´ kh√≥a n√¢ng cao ƒë·ªÉ Midjourney t·∫°o ra c√°c b·ª©c ·∫£nh ch√¢n dung ·∫•n t∆∞·ª£ng, c√≥ h·ªìn.
                        </p>
                        <span class="text-xs text-slate-500">ƒê√£ ƒë·ªçc: 7 ph√∫t</span>
                    </div>
                </a>

                <!-- Post 3 -->
                <a href="#" class="blog-card-bg rounded-xl shadow-xl overflow-hidden block">
                    <img src="https://placehold.co/600x400/06b6d4/ffffff?text=Tech+Future" alt="B√†i vi·∫øt v·ªÅ t∆∞∆°ng lai" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <span class="text-xs font-semibold text-cyan-400 uppercase">XU H∆Ø·ªöNG</span>
                        <h3 class="text-xl font-bold text-white mt-2 mb-3">5 Lƒ©nh v·ª±c s·∫Ω b·ªã AI thay ƒë·ªïi m·∫°nh m·∫Ω nh·∫•t trong 5 nƒÉm t·ªõi</h3>
                        <p class="text-slate-400 text-sm mb-4 line-clamp-3">
                            B√°o c√°o v√† ph√¢n t√≠ch c√°c ng√†nh ngh·ªÅ ƒë·ª©ng tr∆∞·ªõc nguy c∆° l·ªõn ho·∫∑c c∆° h·ªôi l·ªõn nh·ªù s·ª± ti·∫øn b·ªô c·ªßa AI.
                        </p>
                        <span class="text-xs text-slate-500">ƒê√£ ƒë·ªçc: 10 ph√∫t</span>
                    </div>
                </a>
            </div>
            
            <div class="text-center mt-16">
                <a href="#" class="px-8 py-3 rounded-full bg-slate-700 text-white font-bold hover:bg-slate-600 transition shadow-lg border border-slate-600">
                    Xem t·∫•t c·∫£ b√†i vi·∫øt <i class="fa-solid fa-arrow-right ml-2"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-950 text-white pt-16 pb-8 border-t border-slate-800 relative overflow-hidden">
    <!-- Background decoration (optional) -->
    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"></div>

    <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
            <!-- Col 1: Brand -->
            <div>
                <a href="#home" onclick="switchTab('home')" class="text-3xl font-bold logo-font mb-4 inline-block bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">
                    <i class="fa-solid fa-brain mr-2 text-blue-500"></i>AI FUTURE
                </a>
                <p class="text-slate-400 text-sm leading-relaxed mb-6">
                    Kh√°m ph√° s·ª©c m·∫°nh c·ªßa tr√≠ tu·ªá nh√¢n t·∫°o. Ch√∫ng t√¥i mang ƒë·∫øn nh·ªØng ki·∫øn th·ª©c v√† c√¥ng c·ª• m·ªõi nh·∫•t ƒë·ªÉ b·∫°n l√†m ch·ªß t∆∞∆°ng lai.
                </p>
                <div class="flex space-x-4">
                    <a href="https://facebook.com/Tizsosad07" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-blue-600 transition duration-300 group">
                        <i class="fa-brands fa-facebook-f text-slate-400 group-hover:text-white"></i>
                    </a>
                    <a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-red-600 transition duration-300 group">
                        <i class="fa-brands fa-youtube text-slate-400 group-hover:text-white"></i>
                    </a>
                    <a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-sky-500 transition duration-300 group">
                        <i class="fa-brands fa-twitter text-slate-400 group-hover:text-white"></i>
                    </a>
                </div>
            </div>

            <!-- Col 2: Quick Links -->
            <div>
                <h4 class="text-lg font-bold text-white mb-6 relative inline-block">
                    Kh√°m Ph√°
                    <span class="absolute bottom-0 left-0 w-1/2 h-1 bg-blue-500 rounded-full"></span>
                </h4>
                <ul class="space-y-3">
                    <li><a href="#home" onclick="switchTab('home')" class="text-slate-400 hover:text-blue-400 transition flex items-center"><i class="fa-solid fa-chevron-right text-xs mr-2"></i>Trang Ch·ªß</a></li>
                    <li><a href="#models" onclick="switchTab('models')" class="text-slate-400 hover:text-blue-400 transition flex items-center"><i class="fa-solid fa-chevron-right text-xs mr-2"></i>C√°c AI</a></li>
                    <li><a href="#tools" onclick="switchTab('tools')" class="text-slate-400 hover:text-blue-400 transition flex items-center"><i class="fa-solid fa-chevron-right text-xs mr-2"></i>C√¥ng C·ª• AI</a></li>
                    <li><a href="#types" onclick="switchTab('types')" class="text-slate-400 hover:text-blue-400 transition flex items-center"><i class="fa-solid fa-chevron-right text-xs mr-2"></i>Ph√¢n Lo·∫°i</a></li>
                </ul>
            </div>

            <!-- Col 3: Community -->
            <div>
                <h4 class="text-lg font-bold text-white mb-6 relative inline-block">
                    C·ªông ƒê·ªìng
                    <span class="absolute bottom-0 left-0 w-1/2 h-1 bg-purple-500 rounded-full"></span>
                </h4>
                <ul class="space-y-3">
                    <li><a href="#events" onclick="switchTab('events')" class="text-slate-400 hover:text-purple-400 transition flex items-center"><i class="fa-solid fa-chevron-right text-xs mr-2"></i>S·ª± Ki·ªán</a></li>
                    <li><a href="#resources" onclick="switchTab('resources')" class="text-slate-400 hover:text-purple-400 transition flex items-center"><i class="fa-solid fa-chevron-right text-xs mr-2"></i>T√†i Nguy√™n</a></li>
                    <li><a href="#contact" onclick="switchTab('contact')" class="text-slate-400 hover:text-purple-400 transition flex items-center"><i class="fa-solid fa-chevron-right text-xs mr-2"></i>Li√™n H·ªá</a></li>
                    <!-- Blog link tr·ªè t·ªõi blog.html, m·ªü trong trang hi·ªán t·∫°i -->
                    <li><a href="blog.html" class="text-slate-400 hover:text-purple-400 transition flex items-center"><i class="fa-solid fa-chevron-right text-xs mr-2"></i>Blog</a></li>
                </ul>
            </div>

            <!-- Col 4: Newsletter/Contact Info Summary -->
            <div>
                <h4 class="text-lg font-bold text-white mb-6 relative inline-block">
                    Th√¥ng Tin
                    <span class="absolute bottom-0 left-0 w-1/2 h-1 bg-green-500 rounded-full"></span>
                </h4>
                <ul class="space-y-4 text-slate-400">
                    <li class="flex items-start">
                        <i class="fa-solid fa-location-dot mt-1 mr-3 text-green-500"></i>
                        <span>163, T·ªï D√¢n Ph·ªë To√†n Th·∫Øng, C∆∞mgar, Bu√¥n M√™ Thu·ªôc</span>
                    </li>
                    <li class="flex items-center">
                        <i class="fa-solid fa-phone mr-3 text-green-500"></i>
                        <span>0913355387</span>
                    </li>
                    <li class="flex items-center">
                        <i class="fa-solid fa-envelope mr-3 text-green-500"></i>
                        <span>tainmpk04523@gmail.com</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Bottom Bar -->
        <div class="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center">
            <p class="text-slate-500 text-sm text-center md:text-left mb-4 md:mb-0">
                &copy; 2025 FPTPolytechic Tai
            </p>
            <div class="flex space-x-6 text-sm text-slate-500">
                <a href="#" class="hover:text-white transition">ƒêi·ªÅu kho·∫£n</a>
                <a href="#" class="hover:text-white transition">B·∫£o m·∫≠t</a>
                <a href="#" class="hover:text-white transition">Cookie</a>
            </div>
        </div>
    </div>
</footer>

    <!-- Auth Modal (New) -->
    <div id="auth-modal">
        <div class="bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md relative">
            <button onclick="closeAuthModal()" class="absolute top-4 right-4 text-gray-500 hover:text-red-500"><i class="fa-solid fa-xmark text-xl"></i></button>
            
            <!-- Tabs -->
            <div class="flex border-b border-gray-200 dark:border-gray-700 mb-6">
                <button id="tab-login" class="w-1/2 py-3 font-bold text-blue-600 border-b-2 border-blue-600" onclick="switchAuthMode('login')">ƒêƒÉng Nh·∫≠p</button>
                <button id="tab-register" class="w-1/2 py-3 font-bold text-gray-500 dark:text-gray-400 hover:text-blue-500" onclick="switchAuthMode('register')">ƒêƒÉng K√Ω</button>
            </div>

            <!-- Login Form -->
            <form id="login-form" class="space-y-4" onsubmit="handleAuth(event, 'login')">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
                    <input type="email" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">M·∫≠t kh·∫©u</label>
                    <input type="password" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <button type="submit" class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition">ƒêƒÉng Nh·∫≠p</button>
            </form>

            <!-- Register Form -->
            <form id="register-form" class="space-y-4 hidden" onsubmit="handleAuth(event, 'register')">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
                    <input type="email" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">M·∫≠t kh·∫©u</label>
                    <input type="password" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">X√°c nh·∫≠n m·∫≠t kh·∫©u</label>
                    <input type="password" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <button type="submit" class="w-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition">T·∫°o T√†i Kho·∫£n</button>
            </form>
        </div>
    </div>

    <!-- Chatbot Modal -->
    <div id="chat-modal" class="bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700">
        <div class="flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700 bg-blue-600 dark:bg-blue-900 rounded-t-xl">
            <h3 class="text-lg font-bold text-white flex items-center"><i class="fa-solid fa-robot mr-2"></i>AI Assistant</h3>
            <button onclick="toggleChatModal()" class="text-white hover:text-gray-200 p-1"><i class="fa-solid fa-xmark text-xl"></i></button>
        </div>
        <div id="chat-messages" class="flex-grow p-4 space-y-4 overflow-y-auto" style="height: calc(100% - 110px);">
            <div class="flex justify-start">
                <div class="bg-blue-100 dark:bg-slate-700 text-slate-800 dark:text-white p-3 rounded-xl rounded-bl-none max-w-[80%] shadow-md">Ch√†o b·∫°n! T√¥i l√† tr·ª£ l√Ω AI. H√£y h·ªèi t√¥i b·∫•t c·ª© ƒëi·ªÅu g√¨!</div>
            </div>
        </div>

        <!-- Emoji Picker Container (Hidden by default) -->
        <div id="emoji-picker" class="hidden absolute bottom-16 left-4 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg shadow-xl p-2 grid grid-cols-5 gap-2 z-50">
            <button onclick="addEmoji('üòÄ')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">üòÄ</button>
            <button onclick="addEmoji('üòÇ')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">üòÇ</button>
            <button onclick="addEmoji('üòç')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">üòç</button>
            <button onclick="addEmoji('ü§î')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">ü§î</button>
            <button onclick="addEmoji('üò≠')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">üò≠</button>
            <button onclick="addEmoji('üò°')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">üò°</button>
            <button onclick="addEmoji('üëç')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">üëç</button>
            <button onclick="addEmoji('üëé')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">üëé</button>
            <button onclick="addEmoji('üëã')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">üëã</button>
            <button onclick="addEmoji('‚ù§Ô∏è')" class="hover:bg-slate-100 dark:hover:bg-slate-600 p-1 rounded text-xl">‚ù§Ô∏è</button>
        </div>

        <form id="chat-form" class="p-3 border-t border-slate-200 dark:border-slate-700 flex items-center relative">
            <button type="button" onclick="toggleEmojiPicker()" class="text-slate-500 hover:text-blue-500 mr-2 text-xl p-2">
                <i class="fa-regular fa-face-smile"></i>
            </button>
            <input type="text" id="chat-input" placeholder="G·ª≠i tin nh·∫Øn..." class="flex-grow bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-full p-3 mr-2 focus:outline-none focus:border-blue-500 text-sm" required>
            <button type="submit" id="chat-send-btn" class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition"><i class="fa-solid fa-paper-plane"></i></button>
        </form>
    </div>
    <button onclick="toggleChatModal()" class="fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl transition transform hover:scale-110 z-50"><i class="fa-solid fa-robot text-2xl"></i></button>

    <!-- Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, runTransaction, onSnapshot, collection, addDoc, query, where, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-ai-app';
        
        let db, auth;

        // UI Logic
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else { document.documentElement.classList.remove('dark'); }

        window.toggleTheme = function() {
            if (document.documentElement.classList.contains('dark')) { document.documentElement.classList.remove('dark'); localStorage.theme = 'light'; } 
            else { document.documentElement.classList.add('dark'); localStorage.theme = 'dark'; }
        }

        document.addEventListener('click', function(event) {
            const menu = document.getElementById('mobile-menu');
            const btn = document.getElementById('mobile-menu-btn');
            if (!menu.classList.contains('hidden') && !menu.contains(event.target) && !btn.contains(event.target)) {
                toggleMobileMenu();
            }
        });

        window.switchTab = function(tabId) {
             // RESET LOGIC START - Automatically clear previous tab's content
            document.querySelectorAll('.page-section').forEach(section => {
                if (section.classList.contains('active-section') && section.id !== tabId) {
                    
                    // 1. Clear basic inputs (Excluding Contact Section and Blog)
                    if (section.id !== 'contact' && section.id !== 'blog') {
                        const inputs = section.querySelectorAll('input, textarea');
                        inputs.forEach(input => input.value = '');
                    }
                    
                    // 2. Specific reset for Tools page
                    if (section.id === 'tools') {
                        document.getElementById('prompt-result-container')?.classList.add('hidden');
                        document.getElementById('image-result-container')?.classList.add('hidden');
                        document.getElementById('prompt-image-preview')?.classList.add('hidden');
                        
                        // Reset buttons and visual states
                        section.querySelectorAll('button').forEach(btn => btn.disabled = false);
                         const ph = document.getElementById('image-placeholder');
                         if(ph) { ph.classList.remove('hidden'); ph.innerText = '·∫¢nh s·∫Ω hi·ªán ·ªü ƒë√¢y'; }
                         document.getElementById('generated-image')?.classList.add('hidden');
                         document.getElementById('image-loading')?.classList.remove('flex');
                         document.getElementById('image-loading')?.classList.add('hidden');
                         
                         // Reset button text content
                         const genBtn = document.getElementById('generate-btn');
                         if(genBtn) genBtn.innerHTML = '<span>T·∫°o Prompt Chi Ti·∫øt</span><i class="fa-solid fa-bolt ml-2"></i>';
                         const imgBtn = document.getElementById('image-gen-btn');
                         if(imgBtn) imgBtn.innerHTML = '<span>T·∫°o H√¨nh ·∫¢nh</span><i class="fa-solid fa-palette ml-2"></i>';
                    }
                }
                section.classList.remove('active-section');
            });
            // RESET LOGIC END

            const target = document.getElementById(tabId);
            if (target) {
                target.classList.add('active-section');
                window.location.hash = tabId;
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if(link.getAttribute('href') === `#${tabId}`) link.classList.add('active');
            });
        }

        window.toggleMobileMenu = function() { 
            const menu = document.getElementById('mobile-menu');
            const icon = document.querySelector('#mobile-menu-btn i');
            menu.classList.toggle('hidden'); 
            
            if (menu.classList.contains('hidden')) {
                icon.classList.remove('fa-xmark');
                icon.classList.add('fa-bars');
            } else {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-xmark');
            }
        }

        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        function nextSlide() {
            if (slides.length === 0) return;
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }
        if (slides.length > 0) setInterval(nextSlide, 4000);

        window.registerEvent = function(eventName) {
            // Manually switch to contact to prefill form without full reset of contact form yet
            document.querySelectorAll('.page-section').forEach(section => section.classList.remove('active-section'));
            document.getElementById('contact').classList.add('active-section');
            window.location.hash = 'contact';
            
            const messageBox = document.getElementById('contact-message');
            if(messageBox) {
                messageBox.value = `Xin ch√†o, t√¥i mu·ªën ƒëƒÉng k√Ω tham gia s·ª± ki·ªán: "${eventName}".`;
                setTimeout(() => { messageBox.focus(); document.getElementById('contact-form').scrollIntoView({ behavior: 'smooth', block: 'center' }); }, 500);
            }
        }

        // Auth Modal Logic
        window.toggleAuthModal = function(mode) {
            const modal = document.getElementById('auth-modal');
            if (modal.style.display === 'flex') { modal.style.display = 'none'; } 
            else { modal.style.display = 'flex'; window.switchAuthMode(mode || 'login'); }
        }
        window.closeAuthModal = function() { document.getElementById('auth-modal').style.display = 'none'; }
        window.switchAuthMode = function(mode) {
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            const loginTab = document.getElementById('tab-login');
            const registerTab = document.getElementById('tab-register');
            if (mode === 'login') {
                loginForm.classList.remove('hidden'); registerForm.classList.add('hidden');
                loginTab.classList.add('text-blue-600', 'border-b-2', 'border-blue-600'); loginTab.classList.remove('text-gray-500');
                registerTab.classList.remove('text-blue-600', 'border-b-2', 'border-blue-600'); registerTab.classList.add('text-gray-500');
            } else {
                loginForm.classList.add('hidden'); registerForm.classList.remove('hidden');
                registerTab.classList.add('text-blue-600', 'border-b-2', 'border-blue-600'); registerTab.classList.remove('text-gray-500');
                loginTab.classList.remove('text-blue-600', 'border-b-2', 'border-blue-600'); loginTab.classList.add('text-gray-500');
            }
        }

        window.copyToClipboard = function(elementId) {
            const text = document.getElementById(elementId).innerText;
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            alert('ƒê√£ sao ch√©p prompt v√†o b·ªô nh·ªõ t·∫°m!');
        }

        // Formspree Handler (AJAX implementation)
        const contactForm = document.getElementById("contact-form");
        if (contactForm) {
            contactForm.addEventListener("submit", async function(event) {
                event.preventDefault(); // CH·∫∂N form t·∫£i l·∫°i trang
                
                const form = event.target;
                const submitBtn = document.getElementById('contact-submit-btn');
                const originalText = submitBtn.innerText;
                
                submitBtn.innerText = 'ƒêang g·ª≠i...';
                submitBtn.disabled = true;

                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: new FormData(form),
                        headers: { 'Accept': 'application/json' }
                    });

                    if (response.ok) {
                        alert("C·∫£m ∆°n b·∫°n! Tin nh·∫Øn ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng. Ch√∫ng t√¥i s·∫Ω li√™n h·ªá l·∫°i s·ªõm.");
                        form.reset(); // T·ª± ƒë·ªông x√≥a n·ªôi dung form sau khi g·ª≠i
                    } else {
                        // X·ª≠ l√Ω l·ªói t·ª´ Formspree (v√≠ d·ª•: l·ªói CAPTCHA)
                        const jsonData = await response.json();
                        alert("Oops! C√≥ l·ªói x·∫£y ra: " + (jsonData.error || "L·ªói kh√¥ng x√°c ƒë·ªãnh. Vui l√≤ng th·ª≠ l·∫°i sau."));
                    }
                } catch (error) {
                    // X·ª≠ l√Ω l·ªói k·∫øt n·ªëi m·∫°ng
                    alert("L·ªói k·∫øt n·ªëi m·∫°ng ho·∫∑c m√°y ch·ªß. Vui l√≤ng th·ª≠ l·∫°i.");
                    console.error("Contact form error:", error);
                } finally {
                    submitBtn.innerText = originalText;
                    submitBtn.disabled = false;
                }
            });
        }

        function simpleHash(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = (hash << 5) - hash + char;
                hash = hash & hash; 
            }
            return hash.toString();
        }

        // Firebase Init
        async function initFirebase() {
            if (!firebaseConfig) {
                document.getElementById('visit-counter').innerHTML = '<i class="fa-solid fa-ban text-red-500"></i><span>Ch∆∞a c·∫•u h√¨nh Firebase</span>';
                return;
            }
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                onAuthStateChanged(auth, (user) => {
                    if (user) setupVisitCounter();
                    else signInAnonymously(auth).catch(() => {});
                });
                
                const storedUser = JSON.parse(localStorage.getItem('current_user'));
                if (storedUser) updateAuthUI(storedUser);
            } catch (error) { console.error("Firebase error:", error); }
        }

        // Auth Handler (Firestore based)
        window.handleAuth = async function(event, mode) {
            event.preventDefault();
            const form = event.target;
            const inputs = form.querySelectorAll('input');
            const email = inputs[0].value.trim();
            const password = inputs[1].value;
            
            const btn = form.querySelector('button');
            const originalText = btn.innerText;
            btn.innerText = 'ƒêang x·ª≠ l√Ω...';
            btn.disabled = true;

            // Ensure we have an anonymous user first to write to DB
            if (!auth.currentUser) {
                try {
                    await signInAnonymously(auth);
                } catch (e) {
                    console.error("Anon auth failed", e);
                    alert("L·ªói k·∫øt n·ªëi b·∫£o m·∫≠t. Vui l√≤ng th·ª≠ l·∫°i.");
                    resetBtn();
                    return;
                }
            }

            try {
                const usersRef = collection(db, `artifacts/${appId}/public/data/registered_users`);
                const passwordHash = simpleHash(password);

                if (mode === 'register') {
                    const confirmPassword = inputs[2].value;
                    if (password !== confirmPassword) { alert("M·∫≠t kh·∫©u x√°c nh·∫≠n kh√¥ng kh·ªõp!"); resetBtn(); return; }

                    const q = query(usersRef, where("email", "==", email));
                    const querySnapshot = await getDocs(q);

                    if (!querySnapshot.empty) { alert("Email n√†y ƒë√£ ƒë∆∞·ª£c ƒëƒÉng k√Ω!"); resetBtn(); return; }

                    const displayName = email.split('@')[0];
                    const newUser = { email: email, password: passwordHash, displayName: displayName, createdAt: new Date().toISOString() };
                    await addDoc(usersRef, newUser);
                    loginUser(newUser);
                    alert("ƒêƒÉng k√Ω th√†nh c√¥ng!");

                } else { 
                    // Search for user by email
                    const q = query(usersRef, where("email", "==", email));
                    const querySnapshot = await getDocs(q);
                    
                    let userFound = false;
                    querySnapshot.forEach((doc) => {
                        const userData = doc.data();
                        if (userData.password === passwordHash) {
                            userFound = true;
                            loginUser(userData);
                            alert("ƒêƒÉng nh·∫≠p th√†nh c√¥ng!");
                        }
                    });

                    if (!userFound) {
                        alert("Sai t√†i kho·∫£n ho·∫∑c m·∫≠t kh·∫©u!");
                        // Clear password field on error
                        inputs[1].value = '';
                        resetBtn();
                        return;
                    }
                }
                window.closeAuthModal();
                form.reset();
                resetBtn();
            } catch (error) {
                console.error("Auth error:", error);
                alert("L·ªói k·∫øt n·ªëi m√°y ch·ªß: " + error.message);
                resetBtn();
            }
            function resetBtn() { btn.innerText = originalText; btn.disabled = false; }
        }

        function loginUser(user) {
            const sessionUser = { email: user.email, displayName: user.displayName };
            localStorage.setItem('current_user', JSON.stringify(sessionUser));
            updateAuthUI(sessionUser);
        }

        window.logout = async function() {
            localStorage.removeItem('current_user');
            updateAuthUI(null);
            alert("ƒê√£ ƒëƒÉng xu·∫•t.");
        }

        function updateAuthUI(user) {
            const desktopContainer = document.getElementById('desktop-auth-container');
            const mobileContainer = document.getElementById('mobile-auth-container');
            let htmlContent = '', mobileContent = '';

            if (user) {
                const displayName = user.displayName || 'User';
                const userHtml = `<div class="flex items-center space-x-2"><div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold">${displayName[0].toUpperCase()}</div><span class="text-sm font-medium text-slate-700 dark:text-gray-200 hidden lg:inline">${displayName}</span><button onclick="logout()" class="text-sm text-red-500 hover:text-red-700 ml-2"><i class="fa-solid fa-right-from-bracket"></i></button></div>`;
                const mobileUserHtml = `<div class="flex items-center justify-between p-2 bg-slate-100 dark:bg-slate-800 rounded-lg mb-2"><span class="font-bold text-slate-700 dark:text-white">${displayName}</span><button onclick="logout()" class="text-red-500">ƒêƒÉng xu·∫•t</button></div>`;
                htmlContent = userHtml; mobileContent = mobileUserHtml;
            } else {
                htmlContent = `<button onclick="toggleAuthModal('login')" class="px-4 py-2 text-sm font-bold text-slate-600 dark:text-white hover:text-blue-500 transition">ƒêƒÉng nh·∫≠p</button><button onclick="toggleAuthModal('register')" class="px-4 py-2 text-sm font-bold bg-blue-600 hover:bg-blue-700 text-white rounded-full transition shadow-lg shadow-blue-500/30">ƒêƒÉng k√Ω</button>`;
                mobileContent = `<button onclick="toggleAuthModal('login'); toggleMobileMenu()" class="w-full py-2 text-center text-slate-700 dark:text-white border border-slate-300 dark:border-slate-600 rounded-lg">ƒêƒÉng nh·∫≠p</button><button onclick="toggleAuthModal('register'); toggleMobileMenu()" class="w-full py-2 text-center bg-blue-600 text-white rounded-lg">ƒêƒÉng k√Ω</button>`;
            }
            if(desktopContainer) desktopContainer.innerHTML = htmlContent;
            if(mobileContainer) mobileContainer.innerHTML = mobileContent;
        }

        function setupVisitCounter() {
            const statsDocRef = doc(db, `artifacts/${appId}/public/data/site_stats`, 'visits');
            const counterElement = document.getElementById('visit-count-value');
            runTransaction(db, async (transaction) => {
                const docSnapshot = await transaction.get(statsDocRef);
                let newCount = 1;
                if (docSnapshot.exists()) { newCount = docSnapshot.data().count + 1; transaction.update(statsDocRef, { count: newCount }); } 
                else { transaction.set(statsDocRef, { count: newCount }); }
            });
            onSnapshot(statsDocRef, (doc) => { if (doc.exists()) counterElement.textContent = doc.data().count.toLocaleString('en-US'); else counterElement.textContent = '0'; });
        }

        // Chatbot & Tools Logic
        const chatModal = document.getElementById('chat-modal');
        const chatInput = document.getElementById('chat-input');
        const chatForm = document.getElementById('chat-form');
        const chatMessages = document.getElementById('chat-messages');
        const chatSendBtn = document.getElementById('chat-send-btn');
        let chatHistory = [];
        let isSending = false;
        
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent`; 
        const SYSTEM_INSTRUCTION = "B·∫°n l√† tr·ª£ l√Ω AI th√¢n thi·ªán, chuy√™n v·ªÅ AI. H√£y s·ª≠ d·ª•ng emoji trong c√¢u tr·∫£ l·ªùi ƒë·ªÉ t·∫°o c·∫£m gi√°c g·∫ßn g≈©i.";
        const USER_PROVIDED_KEY = "AIzaSyASEsPdumNVY4rWs8IBjvha3qtum1oCVY0";

        window.toggleChatModal = function() {
            chatModal.style.display = chatModal.style.display === 'flex' ? 'none' : 'flex';
            if (chatModal.style.display === 'flex') { chatInput.focus(); chatMessages.scrollTop = chatMessages.scrollHeight; }
        }

        // Toggle Emoji Picker
        window.toggleEmojiPicker = function() {
            const picker = document.getElementById('emoji-picker');
            picker.classList.toggle('hidden');
        }

        // Add Emoji to Input
        window.addEmoji = function(emoji) {
            chatInput.value += emoji;
            chatInput.focus();
            // Optionally close picker after selection
            // document.getElementById('emoji-picker').classList.add('hidden');
        }
        
        // Close Emoji Picker when clicking outside (optional but good UX)
        document.addEventListener('click', function(event) {
            const picker = document.getElementById('emoji-picker');
            const toggleBtn = document.querySelector('button[onclick="toggleEmojiPicker()"]');
            if (!picker.classList.contains('hidden') && !picker.contains(event.target) && !toggleBtn.contains(event.target)) {
                picker.classList.add('hidden');
            }
        });


        function displayMessage(text, sender) {
            const div = document.createElement('div');
            div.className = sender === 'user' ? 'flex justify-end' : 'flex justify-start';
            div.innerHTML = `<div class="${sender === 'user' ? 'bg-blue-500 text-white rounded-br-none' : 'bg-blue-100 dark:bg-slate-700 text-slate-800 dark:text-white rounded-bl-none'} p-3 rounded-xl max-w-[80%] shadow-md break-words">${text}</div>`;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            const div = document.createElement('div'); div.id = 'typing-indicator'; div.className = 'flex justify-start';
            div.innerHTML = `<div class="bg-blue-100 dark:bg-slate-700 p-3 rounded-xl rounded-bl-none shadow-md typing-indicator"><span></span><span></span><span></span></div>`;
            chatMessages.appendChild(div); chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        function removeTypingIndicator() { const indicator = document.getElementById('typing-indicator'); if (indicator) indicator.remove(); }

        async function fetchGeminiResponse(prompt) {
            let api_url = `${API_URL}?key=${USER_PROVIDED_KEY}`;
            const contents = chatHistory.map(msg => ({ role: msg.role === 'user' ? 'user' : 'model', parts: [{ text: msg.text }] }));
            contents.push({ role: 'user', parts: [{ text: prompt }] });
            
            const response = await fetch(api_url, {
                method: 'POST', headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents, systemInstruction: { parts: [{ text: SYSTEM_INSTRUCTION }] } })
            });
            if (!response.ok) throw new Error("API Error");
            const result = await response.json();
            return result.candidates?.[0]?.content?.parts?.[0]?.text || "L·ªói ph·∫£n h·ªìi.";
        }

        chatForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const prompt = chatInput.value.trim();
            if (!prompt || isSending) return;
            
            // Close emoji picker if open
            document.getElementById('emoji-picker').classList.add('hidden');

            displayMessage(prompt, 'user'); chatHistory.push({ role: 'user', text: prompt }); chatInput.value = ''; isSending = true;
            chatInput.disabled = true; chatSendBtn.disabled = true; showTypingIndicator();
            try {
                const text = await fetchGeminiResponse(prompt);
                removeTypingIndicator(); displayMessage(text, 'bot');
                if (!text.includes("L·ªñI")) chatHistory.push({ role: 'bot', text });
            } catch (e) { removeTypingIndicator(); displayMessage("ƒê√£ x·∫£y ra l·ªói k·∫øt n·ªëi.", 'bot'); }
            finally { isSending = false; chatInput.disabled = false; chatSendBtn.disabled = false; chatInput.focus(); }
        });

        window.generatePrompt = async function() {
            const input = document.getElementById('prompt-input').value;
            const imageInput = document.getElementById('prompt-image-input');
            const resultContainer = document.getElementById('prompt-result-container');
            const resultOutput = document.getElementById('prompt-output');
            const btn = document.getElementById('generate-btn');
            
            if (!input.trim() && !imageInput.files[0]) { alert("Vui l√≤ng nh·∫≠p √Ω t∆∞·ªüng ho·∫∑c t·∫£i ·∫£nh l√™n!"); return; }

            btn.disabled = true; btn.innerHTML = '<span>ƒêang t·∫°o...</span><i class="fa-solid fa-spinner fa-spin ml-2"></i>';
            resultContainer.classList.add('hidden');
            let api_url = `${API_URL}?key=${USER_PROVIDED_KEY}`;
            const systemPrompt = "B·∫°n l√† chuy√™n gia vi·∫øt prompt cho Midjourney v√† Stable Diffusion. H√£y chuy·ªÉn ƒë·ªïi √Ω t∆∞·ªüng c·ªßa ng∆∞·ªùi d√πng th√†nh m·ªôt prompt ti·∫øng Anh chi ti·∫øt. Ch·ªâ tr·∫£ v·ªÅ n·ªôi dung prompt.";

            try {
                const parts = [];
                if (input.trim()) parts.push({ text: input });
                if (imageInput.files[0]) {
                     const base64Data = await new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.onload = function(e) { resolve(e.target.result.split(',')[1]); };
                        reader.onerror = reject;
                        reader.readAsDataURL(imageInput.files[0]);
                    });
                    parts.push({ inlineData: { mimeType: imageInput.files[0].type, data: base64Data } });
                }
                const response = await fetch(api_url, {
                    method: 'POST', headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ role: 'user', parts: parts }], systemInstruction: { parts: [{ text: systemPrompt }] } })
                });
                if (!response.ok) throw new Error("API Error");
                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Kh√¥ng th·ªÉ t·∫°o prompt.";
                resultOutput.innerText = text; resultContainer.classList.remove('hidden');
            } catch (error) { alert("L·ªói khi g·ªçi Gemini API."); console.error(error); } 
            finally { btn.disabled = false; btn.innerHTML = '<span>T·∫°o Prompt Chi Ti·∫øt</span><i class="fa-solid fa-bolt ml-2"></i>'; }
        }

        document.getElementById('prompt-image-input').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) { document.querySelector('#prompt-image-preview img').src = e.target.result; document.getElementById('prompt-image-preview').classList.remove('hidden'); }
                reader.readAsDataURL(file);
            }
        });
        document.getElementById('remove-prompt-image').addEventListener('click', function() {
            document.getElementById('prompt-image-input').value = ''; document.getElementById('prompt-image-preview').classList.add('hidden');
        });

        window.generateAIImage = async function() {
            const input = document.getElementById('image-prompt-input').value;
            const resultContainer = document.getElementById('image-result-container');
            const resultImage = document.getElementById('generated-image');
            const loadingDiv = document.getElementById('image-loading');
            const placeholder = document.getElementById('image-placeholder');
            const btn = document.getElementById('image-gen-btn');

            if (!input.trim()) { alert("Vui l√≤ng nh·∫≠p m√¥ t·∫£ (prompt) b·∫±ng ti·∫øng Anh!"); return; }

            btn.disabled = true; btn.innerHTML = '<span>ƒêang v·∫Ω...</span><i class="fa-solid fa-spinner fa-spin ml-2"></i>';
            resultContainer.classList.remove('hidden'); placeholder.classList.add('hidden'); resultImage.classList.add('hidden'); loadingDiv.classList.remove('hidden'); loadingDiv.classList.add('flex');
            
            const IMAGEN_MODEL = 'imagen-3.0-generate-001';
            const IMAGEN_API_KEY = "AIzaSyCm7gSi-3qqB-XonoLcfYvbaJNMUT3CX6E"; 
            let api_url = `https://generativelanguage.googleapis.com/v1beta/models/${IMAGEN_MODEL}:predict?key=${IMAGEN_API_KEY}`;

            try {
                const response = await fetch(api_url, {
                    method: 'POST', headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ instances: [{ prompt: input }], parameters: { sampleCount: 1 } })
                });
                if (!response.ok) throw new Error("API Error: " + response.status);
                const result = await response.json();
                if (result.predictions && result.predictions[0]?.bytesBase64Encoded) {
                    resultImage.src = "data:image/png;base64," + result.predictions[0].bytesBase64Encoded;
                    resultImage.classList.remove('hidden'); loadingDiv.classList.add('hidden'); loadingDiv.classList.remove('flex');
                } else { throw new Error("Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu ·∫£nh."); }
            } catch (error) {
                alert("L·ªói khi t·∫°o ·∫£nh: " + error.message);
                loadingDiv.classList.add('hidden'); loadingDiv.classList.remove('flex'); placeholder.classList.remove('hidden'); placeholder.innerText = "T·∫°o ·∫£nh th·∫•t b·∫°i.";
            } finally { btn.disabled = false; btn.innerHTML = '<span>T·∫°o H√¨nh ·∫¢nh</span><i class="fa-solid fa-palette ml-2"></i>'; }
        }

        window.addEventListener('load', () => {
            const hash = window.location.hash.replace('#', '');
            if (hash) window.switchTab(hash);
            initFirebase();
        });
    </script>
</body>
</html>
